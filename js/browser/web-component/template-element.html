<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>template-element</title>
</head>
<body>

<template id = "tmpl">
  <script>
    console.log('Hello');
  </script>
  <div class="message">Hello World!</div>
</template>

<template id = "tmpl1">
  <style> p { font-weight: bold; } </style>
  <p id="message"></p>
</template>

<div id="elem">click me</div>

<script>
  elem.onclick = function() {
    elem.attachShadow({mode: 'open'});

    elem.shadowRoot.append(tmpl1.content.cloneNode(true)); // (*)

    elem.shadowRoot.getElementById('message').innerHTML = "Hello from the shadows!";
  };

  let foo = document.createElement('div');
  foo.append(tmpl.content.cloneNode(true));
  document.body.append(foo);
</script>
</body>
</html>